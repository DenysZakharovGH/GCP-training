Docker on Ubuntu

üîç Check where your disk went
docker system df
üî• Free everything unused
sudo docker system prune -a --volumes

1Ô∏è‚É£ Update your system
sudo apt update
sudo apt upgrade -y

2Ô∏è‚É£ Install required packages

These allow apt to use HTTPS repositories:

sudo apt install -y ca-certificates curl gnupg lsb-release

3Ô∏è‚É£ Add Docker‚Äôs official GPG key
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

4Ô∏è‚É£ Set up the Docker repository
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

5Ô∏è‚É£ Update apt and install Docker
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

6Ô∏è‚É£ Verify Docker installation
sudo docker --version
sudo docker run hello-world




hello-world runs a test container. If it prints a success message, Docker works.

7Ô∏è‚É£ Optional: Run Docker as a non-root user
sudo usermod -aG docker $USER


Log out and back in for this to take effect.

Then you can run docker ps without sudo.







docker ps -a


docker build -t fastapi-ml-app .

docker run --rm fastapi-ml-app  # after run automatically delete container

docker stop
docker rm
docker rm -f abc123

# go inside container bash
docker exec -it <container> /bin/bash

docker compose up -d
docker compose logs -f

docker compose run	One-off container, NO rebuild
docker compose up	Runs services
docker compose up --build	Rebuilds image
docker compose down	Stops & removes containers


üîÅ Fix: switch to the correct context

If Docker Desktop is running:

docker context use desktop-linux

If system Docker:

docker context use default

Then:
docker ps

‚úÖ You will see the running container.










–©–æ –æ–∑–Ω–∞—á–∞—é—Ç—å –≤–∞—à—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ YOLOv8 –∑–∞–≥–∞–ª–æ–º
üü¢ ‚Äú–ú–æ–¥–µ–ª—å —É—Å–ø—ñ—à–Ω–æ –Ω–∞–≤—á–∏–ª–∞—Å—å‚Äù

–¶–µ –æ–∑–Ω–∞—á–∞—î:

–ª–æ—Å—Å–∏ –∑–º–µ–Ω—à–∏–ª–∏—Å—å

learning rate –º–∞–π–∂–µ –Ω—É–ª—å–æ–≤–∏–π

–º–æ–¥–µ–ª—å –±—ñ–ª—å—à–µ –Ω–µ –ø–æ–∫—Ä–∞—â—É—î—Ç—å—Å—è
‚û°Ô∏è –Ω–∞–≤—á–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–µ –∫–æ—Ä–µ–∫—Ç–Ω–æ, –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

üü¢ –•–æ—Ä–æ—à–∏–π mAP50 ‚âà 0.79

–¶–µ –æ–∑–Ω–∞—á–∞—î:

—É ~79% –≤–∏–ø–∞–¥–∫—ñ–≤ –º–æ–¥–µ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –æ–± º—î–∫—Ç

—Ä–∞–º–∫–∞ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–æ–±—Ä–µ –ø–µ—Ä–µ–∫—Ä–∏–≤–∞—î –æ–± º—î–∫—Ç (IoU ‚â• 0.5)
‚û°Ô∏è –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–∞–¥–∞—á —Ü–µ —Ö–æ—Ä–æ—à–∏–π —Ä—ñ–≤–µ–Ω—å

üü° Recall ‚âà 0.77

–¶–µ –æ–∑–Ω–∞—á–∞—î:

–º–æ–¥–µ–ª—å –∑–Ω–∞—Ö–æ–¥–∏—Ç—å ~77% —É—Å—ñ—Ö –æ–± º—î–∫—Ç—ñ–≤

~23% –æ–± º—î–∫—Ç—ñ–≤ –≤–æ–Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∞—î
‚û°Ô∏è —è–∫—â–æ –≤–∞–∂–ª–∏–≤–æ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –æ–± º—î–∫—Ç–∏ (–±–µ–∑–ø–µ–∫–∞, –º–µ–¥–∏—Ü–∏–Ω–∞) ‚Äî —Ü–µ –º—ñ–Ω—É—Å

üü° Precision ‚âà 0.67

–¶–µ –æ–∑–Ω–∞—á–∞—î:

—Å–µ—Ä–µ–¥ —É—Å—ñ—Ö –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –æ–± º—î–∫—Ç—ñ–≤ ~33% ‚Äî –ø–æ–º–∏–ª–∫–æ–≤—ñ
‚û°Ô∏è –º–æ–¥–µ–ª—å —ñ–Ω–æ–¥—ñ ‚Äú–±–∞—á–∏—Ç—å‚Äù —Ç–µ, —á–æ–≥–æ –Ω–µ–º–∞

üü° mAP50-95 ‚âà 0.61 –Ω–∏–∂—á–∏–π –∑–∞ mAP50

–¶–µ –æ–∑–Ω–∞—á–∞—î:

–º–æ–¥–µ–ª—å –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –æ–± º—î–∫—Ç–∏, –∞–ª–µ

—Ä–∞–º–∫–∏ –Ω–µ –∑–∞–≤–∂–¥–∏ –¥—É–∂–µ —Ç–æ—á–Ω—ñ

–ø—Ä–∏ —Å—Ç—Ä–æ–≥–∏—Ö IoU (0.75‚Äì0.95) —è–∫—ñ—Å—Ç—å –ø–∞–¥–∞—î
‚û°Ô∏è –¥–ª—è –∑–∞–¥–∞—á, –¥–µ –≤–∞–∂–ª–∏–≤–∞ —Ç–æ—á–Ω–∞ –≥–µ–æ–º–µ—Ç—Ä—ñ—è, —Ü–µ —Å–ª–∞–±–∫–µ –º—ñ—Å—Ü–µ

üü° Validation loss > Train loss

–¶–µ –æ–∑–Ω–∞—á–∞—î:

–º–æ–¥–µ–ª—å —Ç—Ä–æ—Ö–∏ –ø–µ—Ä–µ–∞–¥–∞–ø—Ç—É–≤–∞–ª–∞—Å—å –ø—ñ–¥ —Ç—Ä–µ–Ω—É–≤–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ

–∞–ª–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
‚û°Ô∏è –Ω–æ—Ä–º–∞–ª—å–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è, –Ω–µ ‚Äú–∑–ª–∞–º–∞–Ω–∞‚Äù




Gcloud---------------------------------------------------------

Install gcloud
1.
sudo apt-get install apt-transport-https ca-certificates gnupg curl
curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo gpg --dearmor -o /usr/share/keyrings/cloud.google.gpg
echo "deb [signed-by=/usr/share/keyrings/cloud.google.gpg] https://packages.cloud.google.com/apt cloud-sdk main" | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list
2.
sudo apt-get update && sudo apt-get install google-cloud-cli

gcloud auth login
gcloud config set project ml-training-demo

gcloud resource-manager tags values list --parent=tagKeys/28567

gcloud artifacts repositories create ml-images \
  --repository-format=docker \
  --location=europe-west1


gcloud builds submit \
  --tag europe-west1-docker.pkg.dev/ml-training-demo/ml-images/pytorch-trainer:latest




if doesnt go:
gcloud services enable cloudbuild.googleapis.com


gcloud projects describe ml-training-demo-486116 --format="value(projectNumber)"
gcloud projects add-iam-policy-binding ml-training-demo-486116 \
    --member="serviceAccount:[PROJECT_NUMBER]@cloudbuild.gserviceaccount.com" \
    --role="roles/artifactregistry.writer"



check if access:

gcloud auth list
gcloud projects describe ml-training-demo-486

gcloud builds list --limit=5


FIX BROKEN .VENV VSCODE

touch .env
Put this inside:
PYTHONPATH=.


.vscode/settings.json 
Put this inside:
{
  "python.envFile": "${workspaceFolder}/.env",
  "python.analysis.extraPaths": ["."]
}



echo "export PYTHONPATH=$(pwd)" >> ~/.bashrc

Ctrl + Shift + P ‚Üí Reload Window


sudo apt install -y tmux
tmux
tmux attach

gcloud compute ssh pytorch-dev --zone europe-west1-b



sudo apt-get install python3-venv -y
python3 -m venv ~/dl-env
source ~/dl-env/bin/activate
